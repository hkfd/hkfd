<p id="form-sent" *ngIf="formSent">Thanks, we'll be in touch soon</p>

<form [formGroup]="form" (ngSubmit)="submitForm()" [@formState]="formSent">
  <div class="input">
    <label for="name">Your Name*</label>
    <p class="error" *ngIf="name?.invalid && name?.touched">Name is required</p>
    <input id="name" formControlName="name" required />
  </div>

  <div class="input">
    <label for="email">Your Email*</label>
    <p class="error" *ngIf="email?.invalid && email?.touched">
      Email is required
    </p>
    <input id="email" formControlName="email" required />
  </div>

  <div class="input">
    <label for="message">Your Message*</label>
    <p class="error" *ngIf="message?.invalid && message?.touched">
      Message is required
    </p>
    <textarea
      id="message"
      formControlName="message"
      required
      rows="10"
    ></textarea>
  </div>

  <ng-container *ngIf="form?.dirty || form?.touched">
    <div id="form-footer">
      <p>
        <small>
          By submitting this form you consent to being contacted by email in
          relation to this query. Please see our
          <a href="/legal/privacy-policy.html" target="_blank">
            Privacy Policy
          </a>
          for more information.
        </small>
      </p>
      <button
        class="button"
        type="submit"
        [disabled]="form?.invalid || formSent === true || formSent === false"
        aria-label="Send"
      >
        Send
      </button>
      <p class="error" *ngIf="formSent === false">
        Sorry, please try again later
      </p>
    </div>
  </ng-container>
</form>
